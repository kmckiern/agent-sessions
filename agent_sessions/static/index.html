<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Sessions</title>
    <link rel="stylesheet" href="/static/style.css" />
    <script type="module" src="/static/js/index-page.js"></script>
  </head>
  <body class="is-loading">
    <div id="app-loading" class="app-loading" role="status" aria-live="polite">
      Loadingâ€¦
    </div>
    <div id="app-root">
      <header class="global-header">
        <div class="global-header__actions">
          <span
            class="global-header__back global-header__placeholder"
            aria-hidden="true"
            >&larr; Back to all sessions</span
          >
        </div>
        <div class="global-header__actions">
          <button type="button" id="theme-toggle" aria-pressed="false">
            Dark mode
          </button>
        </div>
      </header>
      <div class="page-title">
        <h1>Sessions</h1>
      </div>
      <div class="controls page-subheader">
        <button
          type="button"
          id="filters-group-toggle"
          class="filters-group-toggle"
          aria-controls="filters-group-body"
          aria-expanded="false"
        >
          Filters
        </button>

        <div id="filters-group-body" class="filters-group-body collapsed" aria-hidden="true">
          <div class="filters-row">
            <fieldset class="filter-panel" id="working-dir-panel">
            <legend class="visually-hidden">Working directories</legend>
            <div
              class="filter-header"
              id="working-dir-header"
              role="button"
              tabindex="0"
              aria-controls="working-dir-body"
              aria-expanded="true"
            >
              <span class="filter-title">Working directories</span>
              <button
                type="button"
                id="working-dir-toggle"
                disabled
                aria-pressed="false"
              >
                Select all
              </button>
            </div>
            <div class="filter-body" id="working-dir-body" role="group" aria-label="Working directory filter">
              <div id="working-dir-list" class="filter-list"></div>
            </div>
            </fieldset>

            <fieldset class="filter-panel" id="provider-panel">
            <legend class="visually-hidden">Providers</legend>
            <div
              class="filter-header"
              id="provider-header"
              role="button"
              tabindex="0"
              aria-controls="provider-body"
              aria-expanded="true"
            >
              <span class="filter-title">Providers</span>
              <button
                type="button"
                id="provider-toggle"
                disabled
                aria-pressed="false"
              >
                Select all
              </button>
            </div>
            <div class="filter-body" id="provider-body" role="group" aria-label="Provider filter">
              <div class="toolbar" id="provider-toolbar"></div>
            </div>
            </fieldset>

            <fieldset class="filter-panel" id="model-panel">
            <legend class="visually-hidden">Models</legend>
            <div
              class="filter-header"
              id="model-header"
              role="button"
              tabindex="0"
              aria-controls="model-body"
              aria-expanded="true"
            >
              <span class="filter-title">Models</span>
              <button
                type="button"
                id="model-toggle"
                disabled
                aria-pressed="false"
              >
                Select all
              </button>
            </div>
            <div class="filter-body" id="model-body" role="group" aria-label="Model filter">
              <div class="toolbar" id="model-toolbar"></div>
              <div class="model-controls">
                <label class="filter-field" for="model-filter">
                  <span class="filter-label">Model</span>
                  <input
                    type="search"
                    id="model-filter"
                    placeholder="e.g. gpt-5-codex"
                    list="model-options"
                    aria-label="Model filter"
                  />
                  <datalist id="model-options"></datalist>
                </label>

                <div class="model-controls-inline">
                  <label class="filter-field filter-field-narrow" for="model-match-mode">
                    <span class="filter-label">Match</span>
                    <select id="model-match-mode" aria-label="Model match mode">
                      <option value="prefix">Prefix</option>
                      <option value="exact">Exact</option>
                    </select>
                  </label>

                  <label class="filter-field" for="model-provider-filter">
                    <span class="filter-label">Provider</span>
                    <select id="model-provider-filter" aria-label="Model provider filter">
                      <option value="">Any provider</option>
                    </select>
                  </label>
                </div>
              </div>
            </div>
            </fieldset>
          </div>
        </div>

        <div class="search-row">
          <div class="search-panel-wrapper">
            <input
              type="search"
              id="session-search"
              placeholder="Search sessions (exact match)"
              aria-label="Search sessions"
              aria-controls="search-panel"
              aria-expanded="false"
              autocomplete="off"
            />
            <div id="search-panel" class="search-panel" aria-hidden="true">
              <div class="search-panel-meta" id="search-panel-meta"></div>
              <div
                id="search-panel-list"
                class="search-panel-list"
                role="listbox"
                aria-label="Search results"
              ></div>
              <div id="search-panel-empty" class="search-panel-empty" hidden>
                No matches
              </div>
            </div>
          </div>
        </div>
        <div class="filters-footer">
          <div class="results-count" id="results-count" aria-live="polite">0 results</div>
        </div>

        <div class="active-filters" id="active-filters" aria-live="polite"></div>
      </div>
      <div class="sessions-wrapper">
        <table class="sessions-table">
          <thead>
            <tr>
              <th>Provider</th>
              <th>Model</th>
              <th>Session</th>
              <th>Last Update</th>
              <th>Last Message</th>
              <th>Working Dir</th>
              <th>Messages</th>
            </tr>
          </thead>
          <tbody id="sessions-body"></tbody>
        </table>
      </div>
      <div class="pagination" aria-live="polite">
        <button type="button" id="page-prev" disabled>Previous</button>
        <span id="page-info"></span>
        <button type="button" id="page-next" disabled>Next</button>
      </div>
    </div>
    <noscript>
      <style>
        #app-root {
          display: block !important;
        }
        #app-loading {
          display: none !important;
        }
      </style>
      <p class="empty">
        JavaScript is required to load sessions. Enable it and refresh.
      </p>
    </noscript>
  </body>
</html>
